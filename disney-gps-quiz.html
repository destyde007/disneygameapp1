<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disney GPS –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 24px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .setup-screen, .map-selector-screen, .map-screen, .question-screen, .results-screen {
            display: none;
        }

        .setup-screen.active, .map-selector-screen.active, .map-screen.active, .question-screen.active, .results-screen.active {
            display: block;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }

        input[type="number"] {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .location-status {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            color: #667eea;
            font-size: 14px;
        }

        #map {
            height: 400px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .map-info {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .map-legend {
            display: flex;
            justify-content: space-around;
            margin-top: 10px;
            font-size: 13px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .legend-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .legend-dot.locked {
            background: #f44336;
        }

        .legend-dot.unlocked {
            background: #4caf50;
        }

        .legend-dot.answered {
            background: #2196f3;
        }

        .legend-dot.current {
            background: #ff9800;
        }

        .question-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 18px;
            color: #333;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.5;
        }

        .proximity-warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .proximity-ok {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option {
            padding: 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .option.correct {
            border-color: #4caf50;
            background: #4caf50;
            color: white;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #f44336;
            color: white;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.6;
        }

        .results-summary {
            text-align: center;
            margin-bottom: 30px;
        }

        .score {
            font-size: 48px;
            color: #667eea;
            font-weight: bold;
            margin: 20px 0;
        }

        .score-text {
            font-size: 18px;
            color: #666;
            margin-bottom: 10px;
        }

        .feedback {
            font-size: 16px;
            color: #333;
            margin-top: 15px;
        }

        .results-list {
            margin-top: 30px;
        }

        .result-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .result-item.correct {
            border-left: 4px solid #4caf50;
        }

        .result-item.incorrect {
            border-left: 4px solid #f44336;
        }

        .result-question {
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }

        .result-answer {
            font-size: 14px;
            color: #666;
        }

        small {
            color: #666;
            margin-top: 5px;
            display: block;
            font-size: 13px;
        }

        .tool-btn {
            padding: 10px 15px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .tool-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .tool-btn.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .question-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .timer-option-btn {
            flex: 1;
            padding: 12px;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .timer-option-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .timer-option-btn.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üè∞ Disney GPS –í–∏–∫—Ç–æ—Ä–∏–Ω–∞</h1>
        <p class="subtitle">–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –∂–¥—ë—Ç –≤–∞—Å!</p>

        <!-- Setup Screen -->
        <div class="setup-screen active">
            <div class="location-status" id="locationStatus">
                üìç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è...
            </div>
            
            <div class="input-group">
                <label for="questionCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π (1-20)</label>
                <input type="number" id="questionCount" min="1" max="20" value="10" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π">
            </div>

            <div class="input-group">
                <label>–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏</label>
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <button type="button" onclick="selectTimerOption(false)" id="noTimerBtn" class="timer-option-btn active">
                        –ë–µ–∑ —Ç–∞–π–º–µ—Ä–∞
                    </button>
                    <button type="button" onclick="selectTimerOption(true)" id="withTimerBtn" class="timer-option-btn">
                        –° —Ç–∞–π–º–µ—Ä–æ–º
                    </button>
                </div>
                <div id="timerSettings" style="display: none;">
                    <label for="timerMinutes">–í—Ä–µ–º—è (–º–∏–Ω—É—Ç—ã): <span id="timerValue">30</span></label>
                    <input type="range" id="timerMinutes" min="1" max="60" value="30" 
                        style="width: 100%; height: 8px; border-radius: 5px; background: #ddd; outline: none;"
                        oninput="document.getElementById('timerValue').textContent = this.value">
                    <div style="display: flex; justify-content: space-between; font-size: 12px; color: #666; margin-top: 5px;">
                        <span>1 –º–∏–Ω</span>
                        <span>60 –º–∏–Ω</span>
                    </div>
                </div>
            </div>

            <button class="btn" id="startBtn" onclick="showMapSelector()" disabled>–í—ã–±—Ä–∞—Ç—å –æ–±–ª–∞—Å—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</button>
        </div>

        <!-- Map Selector Screen -->
        <div class="map-selector-screen">
            <div class="map-info">
                <div style="font-weight: 600; margin-bottom: 10px; font-size: 18px; color: #667eea;">‚úèÔ∏è –ù–∞—Ä–∏—Å—É–π—Ç–µ –æ–±–ª–∞—Å—Ç—å –¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤</div>
                <div style="background: #e3f2fd; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #2196f3;">
                    <div style="font-weight: 600; margin-bottom: 8px; color: #1976d2;">üìç –ö–∞–∫ —Ä–∏—Å–æ–≤–∞—Ç—å:</div>
                    <div style="font-size: 14px; color: #0d47a1; line-height: 1.6;">
                        1. <strong>–ù–∞–∂–∏–º–∞–π—Ç–µ</strong> –Ω–∞ –∫–∞—Ä—Ç—É, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫–∏<br>
                        2. –°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é —Ñ–æ—Ä–º—É –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞<br>
                        3. <strong>–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫</strong> –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ–æ—Ä–º—ã
                    </div>
                </div>
            </div>

            <div style="background: #f0f4ff; padding: 12px; border-radius: 10px; margin-bottom: 15px; text-align: center;">
                <button onclick="clearDrawing()" class="tool-btn" style="background: #f44336; color: white; border-color: #f44336; display: inline-block; width: auto; padding: 10px 20px;">
                    üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∏ –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
                </button>
                <div id="drawingHint" style="margin-top: 10px; font-size: 13px; color: #667eea; font-weight: 600;">
                    üëÜ –ù–∞—á–Ω–∏—Ç–µ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É –Ω–∏–∂–µ
                </div>
            </div>
            
            <div id="selectorMap" style="height: 400px; border-radius: 15px; margin-bottom: 20px; border: 3px dashed #667eea;"></div>
            
            <button class="btn" onclick="confirmAreaSelection()">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –æ–±–ª–∞—Å—Ç—å</button>
            <button class="btn" onclick="backToSetup()" style="background: #6c757d; margin-top: 10px;">–ù–∞–∑–∞–¥</button>
        </div>

        <!-- Map Screen -->
        <div class="map-screen">
            <div class="map-info">
                <div style="font-weight: 600; margin-bottom: 10px;">üó∫Ô∏è –ö–∞—Ä—Ç–∞ –≤–æ–ø—Ä–æ—Å–æ–≤</div>
                <div id="timerDisplay" style="display: none; background: #fff3cd; padding: 10px; border-radius: 8px; margin-bottom: 10px; text-align: center; font-weight: 600; color: #856404;">
                    ‚è±Ô∏è –û—Å—Ç–∞–ª–æ—Å—å –≤—Ä–µ–º–µ–Ω–∏: <span id="timeRemaining">30:00</span>
                </div>
                <div id="starCounter" style="background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%); padding: 10px; border-radius: 8px; margin-bottom: 10px; text-align: center; font-weight: 600; color: #ff6b00; box-shadow: 0 3px 10px rgba(255,215,0,0.3);">
                    ‚≠ê –ó–≤—ë–∑–¥—ã: <span id="starsCount">0</span>/<span id="totalStarsCount">0</span>
                </div>
                <div style="font-size: 14px; color: #666; margin-bottom: 10px;">–ü–æ–¥–æ–π–¥–∏—Ç–µ –∫ –≤–æ–ø—Ä–æ—Å—É –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ 20–º, —á—Ç–æ–±—ã —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ</div>
                
                <div class="map-legend">
                    <div class="legend-item">
                        <div class="legend-dot locked"></div>
                        <span>–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot unlocked"></div>
                        <span>–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot answered"></div>
                        <span>–û—Ç–≤–µ—á–µ–Ω</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-dot" style="background: #ff9800;"></div>
                        <span>–ü—Ä–æ–ø—É—â–µ–Ω</span>
                    </div>
                </div>
            </div>
            
            <div id="map"></div>
            
            <button class="btn" onclick="showResults()">–ó–∞–≤–µ—Ä—à–∏—Ç—å –≤–∏–∫—Ç–æ—Ä–∏–Ω—É</button>
        </div>

        <!-- Question Screen -->
        <div class="question-screen">
            <div id="proximityStatus"></div>
            
            <div class="question-card">
                <div class="question-text" id="questionText"></div>
                <div class="options" id="optionsContainer"></div>
            </div>

            <button class="btn" onclick="backToMap()">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –∫–∞—Ä—Ç—É</button>
        </div>

        <!-- Results Screen -->
        <div class="results-screen">
            <div class="results-summary">
                <h2>üéâ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
                <div class="score" id="finalScore">0/5</div>
                <div class="score-text">–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤</div>
                <div class="feedback" id="feedback"></div>
            </div>

            <div class="results-list" id="resultsList"></div>

            <button class="btn" onclick="resetGame()">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
        </div>
    </div>

    <script>
        // Game state
        let userLocation = null;
        let map = null;
        let selectorMap = null;
        let selectionCircle = null;
        let centerMarker = null;
        let selectedCenter = null;
        let userMarker = null;
        let questionMarkers = [];
        let radius = 500;
        let questionCount = 5;
        let questions = [];
        let score = 0;
        let watchId = null;
        let currentHeading = 0;
        let mapStyle = 'street';
        let tileLayer = null;
        let currentDrawingTool = 'polygon'; // Only polygon is available
        let drawnShape = null;
        let isDrawing = false;
        let drawingPoints = [];
        let timerEnabled = false;
        let timerMinutes = 30;
        let timerInterval = null;
        let timeLeft = 0;
        let starsCollected = 0;
        let totalStars = 0;
        const UNLOCK_DISTANCE = 20; // meters

        // Challenge pool - physical and creative activities
        const challengePool = [
            {
                type: 'physical',
                challenge: "–ü–æ–ø—Ä—ã–≥–∞–π –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ 10 —Ä–∞–∑!",
                icon: "ü¶ò",
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–ü–æ–∫—Ä—É–∂–∏—Å—å –≤–æ–∫—Ä—É–≥ —Å–µ–±—è 5 —Ä–∞–∑!",
                icon: "üåÄ",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–°–¥–µ–ª–∞–π 5 –ø—Ä—ã–∂–∫–æ–≤ –∫–∞–∫ –ª—è–≥—É—à–∫–∞!",
                icon: "üê∏",
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–î–æ—Ç—Ä–æ–Ω—å—Å—è –¥–æ –Ω–æ—Å–æ—á–∫–æ–≤ 10 —Ä–∞–∑!",
                icon: "ü§∏",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–ü–æ–º–∞—à–∏ —Ä—É–∫–∞–º–∏ –∫–∞–∫ –ø—Ç–∏—Ü–∞ 10 —Å–µ–∫—É–Ω–¥!",
                icon: "ü¶Ö",
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–ü–æ—Ö–æ–¥–∏ –∫–∞–∫ –º–µ–¥–≤–µ–¥—å 20 —à–∞–≥–æ–≤!",
                icon: "üêª",
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–°–¥–µ–ª–∞–π 10 –ø—Ä—ã–∂–∫–æ–≤ –∑–≤–µ–∑–¥–æ–π!",
                icon: "‚≠ê",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'physical',
                challenge: "–ü–æ—Å—Ç–æ–π –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ 15 —Å–µ–∫—É–Ω–¥!",
                icon: "ü¶©",
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                type: 'creative',
                challenge: "–°–ø–æ–π —Å–≤–æ—é –ª—é–±–∏–º—É—é –ø–µ—Å–Ω—é –∏–∑ Disney!",
                icon: "üé§",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'creative',
                challenge: "–ü–æ–∫–∞–∂–∏, –∫–∞–∫ —Ö–æ–¥–∏—Ç –≠–ª—å–∑–∞!",
                icon: "üë∏",
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                type: 'creative',
                challenge: "–ò–∑–æ–±—Ä–∞–∑–∏ –ª—å–≤—ë–Ω–∫–∞ –°–∏–º–±—É!",
                icon: "ü¶Å",
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                type: 'creative',
                challenge: "–°–∫–∞–∂–∏ '–Ø –ª—é–±–ª—é Disney!' —Å–º–µ—à–Ω—ã–º –≥–æ–ª–æ—Å–æ–º!",
                icon: "üó£Ô∏è",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'creative',
                challenge: "–ù–∞—Ä–∏—Å—É–π —Å–º–∞–π–ª–∏–∫ –≤ –≤–æ–∑–¥—É—Ö–µ –ø–∞–ª—å—Ü–µ–º!",
                icon: "üé®",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'search',
                challenge: "–ù–∞–π–¥–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –∂—ë–ª—Ç–æ–µ —Ä—è–¥–æ–º!",
                icon: "üîç",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'search',
                challenge: "–ù–∞–π–¥–∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –∫—Ä–∞—Å–Ω–æ–µ —Ä—è–¥–æ–º!",
                icon: "üîç",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'search',
                challenge: "–°–æ–±–µ—Ä–∏ 3 –ª–∏—Å—Ç–æ—á–∫–∞!",
                icon: "üçÉ",
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                type: 'brain',
                challenge: "–ù–∞–∑–æ–≤–∏ 3 –ø—Ä–∏–Ω—Ü–µ—Å—Å Disney!",
                icon: "üß†",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'brain',
                challenge: "–ù–∞–∑–æ–≤–∏ 3 –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏–∑ –º—É–ª—å—Ç–∏–∫–æ–≤ Disney!",
                icon: "üß†",
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                type: 'brain',
                challenge: "–ü–æ—Å—á–∏—Ç–∞–π –æ—Ç 10 –¥–æ 1 –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ!",
                icon: "üî¢",
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                type: 'creative',
                challenge: "–ü—Ä–∏—Ç–≤–æ—Ä–∏—Å—å, —á—Ç–æ —Ç—ã —Ä—É—Å–∞–ª–∫–∞ –ê—Ä–∏—ç–ª—å!",
                icon: "üßú‚Äç‚ôÄÔ∏è",
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            }
        ];

        // Disney cartoon quiz questions pool in Russian
        const questionPool = [
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –æ—Ç—Ü–∞ –°–∏–º–±—ã –≤ '–ö–æ—Ä–æ–ª–µ –õ—å–≤–µ'?",
                options: ["–®—Ä–∞–º", "–ú—É—Ñ–∞—Å–∞", "–†–∞—Ñ–∏–∫–∏"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                question: "–£ –∫–∞–∫–æ–π –¥–∏—Å–Ω–µ–µ–≤—Å–∫–æ–π –ø—Ä–∏–Ω—Ü–µ—Å—Å—ã –µ—Å—Ç—å —Ç–∏–≥—Ä –ø–æ –∏–º–µ–Ω–∏ –†–∞–¥–∂–∞?",
                options: ["–ñ–∞—Å–º–∏–Ω", "–ë–µ–ª–ª—å", "–ê—Ä–∏—ç–ª—å"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1568605117036-5fe5e7bab0b7?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –ë–∞–ª—É –∏–∑ '–ö–Ω–∏–≥–∏ –¥–∂—É–Ω–≥–ª–µ–π'?",
                options: ["–ü–∞–Ω—Ç–µ—Ä–∞", "–ú–µ–¥–≤–µ–¥—å", "–°–ª–æ–Ω"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Å–µ—Å—Ç—Ä—É –ê–Ω–Ω—ã –≤ '–•–æ–ª–æ–¥–Ω–æ–º —Å–µ—Ä–¥—Ü–µ'?",
                options: ["–≠–ª—å–∑–∞", "–†–∞–ø—É–Ω—Ü–µ–ª—å", "–ú–æ–∞–Ω–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç '–ê–∫—É–Ω–∞ –ú–∞—Ç–∞—Ç–∞'?",
                options: ["–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ", "–ù–µ—Ç –ø—Ä–æ–±–ª–µ–º", "–°–ø–∞—Å–∏–±–æ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1516426122078-c23e76319801?w=800&auto=format&fit=crop"
            },
            {
                question: "–í –∫–∞–∫–æ–º –¥–∏—Å–Ω–µ–µ–≤—Å–∫–æ–º —Ñ–∏–ª—å–º–µ –∑–≤—É—á–∏—Ç –ø–µ—Å–Ω—è '–¶–µ–ª—ã–π –Ω–æ–≤—ã–π –º–∏—Ä'?",
                options: ["–ê–ª–∞–¥–¥–∏–Ω", "–ö—Ä–∞—Å–∞–≤–∏—Ü–∞ –∏ –ß—É–¥–æ–≤–∏—â–µ", "–ú—É–ª–∞–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –¥—Ä—É–≥–∞-—Ä—ã–±–∫—É –ê—Ä–∏—ç–ª—å –≤ '–†—É—Å–∞–ª–æ—á–∫–µ'?",
                options: ["–°–µ–±–∞—Å—Ç—å—è–Ω", "–§–ª–∞—É–Ω–¥–µ—Ä", "–°–∫–∞—Ç—Ç–ª"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Å–æ—Å–µ–¥–∞ –≠–Ω–¥–∏ –≤ '–ò—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä—É—à–µ–∫'?",
                options: ["–°–∏–¥", "–†–µ–∫—Å", "–í—É–¥–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –¢–∏–º–æ–Ω –∏–∑ '–ö–æ—Ä–æ–ª—è –õ—å–≤–∞'?",
                options: ["–ë–æ—Ä–æ–¥–∞–≤–æ—á–Ω–∏–∫", "–°—É—Ä–∏–∫–∞—Ç", "–ì–∏–µ–Ω–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ Disney –≥–æ–≤–æ—Ä–∏—Ç '–ü—Ä–æ—Å—Ç–æ –ø–ª—ã–≤–∏ –¥–∞–ª—å—à–µ'?",
                options: ["–ù–µ–º–æ", "–î–æ—Ä–∏", "–ú–∞—Ä–ª–∏–Ω"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –¥—Ä–∞–∫–æ–Ω–∞-—Å–ø—É—Ç–Ω–∏–∫–∞ –ú—É–ª–∞–Ω?",
                options: ["–ú—É—à—É", "–ö—Ä–∏-–ö–∏", "–•–∞–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1451772741724-d20990422508?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –æ—Ç—Ü–∞ –ë–µ–ª–ª—å –≤ '–ö—Ä–∞—Å–∞–≤–∏—Ü–µ –∏ –ß—É–¥–æ–≤–∏—â–µ'?",
                options: ["–ì–∞—Å—Ç–æ–Ω", "–ú–æ—Ä–∏—Å", "–õ—é–º—å–µ—Ä"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–í–æ —á—Ç–æ —Ñ–µ—è-–∫—Ä—ë—Å—Ç–Ω–∞—è –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ä–µ—Ç—É –ó–æ–ª—É—à–∫–∏?",
                options: ["–Ø–±–ª–æ–∫–æ", "–¢—ã–∫–≤–∞", "–ê—Ä–±—É–∑"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1570043849279-7d0ca4675682?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –≥–Ω–æ–º –≤ '–ë–µ–ª–æ—Å–Ω–µ–∂–∫–µ' –Ω–æ—Å–∏—Ç –æ—á–∫–∏?",
                options: ["–î–æ–∫", "–í–æ—Ä—á—É–Ω", "–°–∫—Ä–æ–º–Ω–∏–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1509310982748-a9f5a0a00c7f?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Ö–∞–º–µ–ª–µ–æ–Ω–∞ –†–∞–ø—É–Ω—Ü–µ–ª—å –≤ '–†–∞–ø—É–Ω—Ü–µ–ª—å'?",
                options: ["–§–ª–∏–Ω–Ω", "–ü–∞—Å–∫–∞–ª—å", "–ú–∞–∫—Å–∏–º—É—Å"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1576859898415-f53858c0de0a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ –ø–ª–∞—Ç—å–µ –ë–µ–ª–ª—å –Ω–∞ –±–∞–ª—É?",
                options: ["–†–æ–∑–æ–≤–æ–µ", "–°–∏–Ω–µ–µ", "–ñ–µ–ª—Ç–æ–µ"],
                correct: 2,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Å–Ω–µ–≥–æ–≤–∏–∫–∞ –≤ '–•–æ–ª–æ–¥–Ω–æ–º —Å–µ—Ä–¥—Ü–µ'?",
                options: ["–û–ª–∞—Ñ", "–°–≤–µ–Ω", "–ö—Ä–∏—Å—Ç–æ—Ñ"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ —Å–µ—Å—Ç—ë—Ä —É –ê—Ä–∏—ç–ª—å?",
                options: ["–ü—è—Ç—å", "–®–µ—Å—Ç—å", "–°–µ–º—å"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ª—É—á—à–µ–≥–æ –¥—Ä—É–≥–∞ –í–∏–Ω–Ω–∏-–ü—É—Ö–∞?",
                options: ["–ò–∞-–ò–∞", "–ü—è—Ç–∞—á–æ–∫", "–¢–∏–≥—Ä–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –î–∂–∏–Ω–Ω–∞ –≤ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–º '–ê–ª–∞–¥–¥–∏–Ω–µ'?",
                options: ["–†–æ–±–∏–Ω –£–∏–ª—å—è–º—Å", "–¢–æ–º –•—ç–Ω–∫—Å", "–≠–¥–¥–∏ –ú—ë—Ä—Ñ–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π —Ñ—Ä—É–∫—Ç –æ—Ç—Ä–∞–≤–∏–ª –ë–µ–ª–æ—Å–Ω–µ–∂–∫—É?",
                options: ["–ì—Ä—É—à–∞", "–Ø–±–ª–æ–∫–æ", "–ê–ø–µ–ª—å—Å–∏–Ω"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1509310982748-a9f5a0a00c7f?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫–æ–Ω—è –†–∞–ø—É–Ω—Ü–µ–ª—å?",
                options: ["–ú–∞–∫—Å–∏–º—É—Å", "–ü–∞—Å–∫–∞–ª—å", "–§–ª–∏–Ω–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1576859898415-f53858c0de0a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ò–∑ –∫–∞–∫–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Å–¥–µ–ª–∞–Ω –Ω–æ—Å –ü–∏–Ω–æ–∫–∫–∏–æ?",
                options: ["–ú–µ—Ç–∞–ª–ª", "–î–µ—Ä–µ–≤–æ", "–ü–ª–∞—Å—Ç–∏–∫"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∑–ª–æ–¥–µ–π–∫—É –≤ '101 –¥–∞–ª–º–∞—Ç–∏–Ω–µ—Ü'?",
                options: ["–ú–∞–ª–µ—Ñ–∏—Å–µ–Ω—Ç–∞", "–£—Ä—Å—É–ª–∞", "–ö—Ä—É—ç–ª–ª–∞"],
                correct: 2,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ª—É—á—à–∏–º –¥—Ä—É–≥–æ–º –ë—ç–º–±–∏?",
                options: ["–¢–æ–ø–æ—Ç—É–Ω", "–¶–≤–µ—Ç–æ—á–µ–∫", "–§–∞–ª–∏–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –ø–æ–¥–∞—Ä–æ–∫ —Ö–æ—Ç–µ–ª–∞ –ê—Ä–∏—ç–ª—å –Ω–∞ —Å–≤–æ–π –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è?",
                options: ["–ñ–µ–º—á—É–∂–∏–Ω—É", "–°—Ç–∞—Ç—É—é", "–í–∏–ª–∫—É"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫—Ä—ã—Å—É –≤ '–†–∞—Ç–∞—Ç—É–µ'?",
                options: ["–†–µ–º–∏", "–õ–∏–Ω–≥–≤–∏–Ω–∏", "–≠–º–∏–ª—å"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –≥–Ω–æ–º–æ–≤ —É –ë–µ–ª–æ—Å–Ω–µ–∂–∫–∏?",
                options: ["–ü—è—Ç—å", "–®–µ—Å—Ç—å", "–°–µ–º—å"],
                correct: 2,
                image: "https://images.unsplash.com/photo-1509310982748-a9f5a0a00c7f?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Ñ–µ—é –≤ '–ü–∏—Ç–µ—Ä–µ –ü—ç–Ω–µ'?",
                options: ["–î–∏–Ω—å-–î–∏–Ω—å", "–§–ª–æ—Ä–∞", "–§–∞—É–Ω–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ì–¥–µ –∂–∏–≤—ë—Ç –ú—É–ª–∞–Ω?",
                options: ["–Ø–ø–æ–Ω–∏—è", "–ö–∏—Ç–∞–π", "–ö–æ—Ä–µ—è"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1451772741724-d20990422508?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –≥–ª–∞–≤–Ω—É—é –≥–µ—Ä–æ–∏–Ω—é –≤ '–•—Ä–∞–±—Ä–æ–π —Å–µ—Ä–¥—Ü–µ–º'?",
                options: ["–ú–µ—Ä–∏–¥–∞", "–ú–æ–∞–Ω–∞", "–ú—É–ª–∞–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –ê–±—É –≤ '–ê–ª–∞–¥–¥–∏–Ω–µ'?",
                options: ["–û–±–µ–∑—å—è–Ω–∞", "–ü–æ–ø—É–≥–∞–π", "–•–æ—Ä—ë–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∑–ª–æ–¥–µ—è –≤ '–ö–Ω–∏–≥–µ –¥–∂—É–Ω–≥–ª–µ–π'?",
                options: ["–®–µ—Ä-–•–∞–Ω", "–ö–∞–∞", "–ö–æ—Ä–æ–ª—å –õ—É–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –∂–µ–ª–∞–Ω–∏–π –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª–Ω–∏—Ç—å –î–∂–∏–Ω–Ω?",
                options: ["–î–≤–∞", "–¢—Ä–∏", "–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º–µ–¥–≤–µ–¥–∏—Ü—É –≤ '–ö–Ω–∏–≥–µ –¥–∂—É–Ω–≥–ª–µ–π'?",
                options: ["–ë–∞–≥–∏—Ä–∞", "–†–∞–∫—à–∞", "–ë–∞–ª—É"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ß—Ç–æ —Ç–µ—Ä—è–µ—Ç –ó–æ–ª—É—à–∫–∞ –Ω–∞ –±–∞–ª—É?",
                options: ["–¢—É—Ñ–µ–ª—å–∫—É", "–ö–æ—Ä–æ–Ω—É", "–ü–µ—Ä—á–∞—Ç–∫—É"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1570043849279-7d0ca4675682?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∏–≥—Ä—É—à–µ—á–Ω–æ–≥–æ –∫–æ–≤–±–æ—è –≤ '–ò—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä—É—à–µ–∫'?",
                options: ["–í—É–¥–∏", "–ë–∞–∑–∑", "–î–∂–µ—Å—Å–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —É–∫—Ä–∞–ª –≥–æ–ª–æ—Å –ê—Ä–∏—ç–ª—å?",
                options: ["–ú–∞–ª–µ—Ñ–∏—Å–µ–Ω—Ç–∞", "–£—Ä—Å—É–ª–∞", "–ì–æ—Ç–µ–ª—å"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ –≤–æ–ª–æ—Å—ã —É –ê—Ä–∏—ç–ª—å?",
                options: ["–ë–ª–æ–Ω–¥–∏–Ω–∫–∞", "–†—ã–∂–∏–µ", "–ß—ë—Ä–Ω—ã–µ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –æ–ª–µ–Ω–µ–Ω–∫–∞, –¥—Ä—É–≥–∞ –ë—ç–º–±–∏?",
                options: ["–§–∞–ª–∏–Ω", "–¢–æ–ø–æ—Ç—É–Ω", "–¶–≤–µ—Ç–æ—á–µ–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ó–æ–ª—É—à–∫–µ –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –±–∞–ª?",
                options: ["–§–µ—è-–∫—Ä—ë—Å—Ç–Ω–∞—è", "–ú–∞—á–µ—Ö–∞", "–ü—Ä–∏–Ω—Ü"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1570043849279-7d0ca4675682?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –ø—Ä–æ–∑–≤–∏—â–µ —É –§–ª–∏–Ω–Ω–∞ –†–∞–π–¥–µ—Ä–∞?",
                options: ["–í—Å–∞–¥–Ω–∏–∫ –±–µ–∑ –≥–æ–ª–æ–≤—ã", "–Æ–¥–∂–∏–Ω –§–∏—Ü—Ö–µ—Ä–±–µ—Ä—Ç", "–ü—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∏–Ω—Ü"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1576859898415-f53858c0de0a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —á–µ—Ä–µ–ø–∞—Ö—É –≤ '–í –ø–æ–∏—Å–∫–∞—Ö –ù–µ–º–æ'?",
                options: ["–î–æ—Ä–∏", "–ö—Ä–∞—à", "–ë—Ä—é—Å"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&auto=format&fit=crop"
            },
            {
                question: "–ß—Ç–æ –ª—é–±–∏—Ç –µ—Å—Ç—å –í–∏–Ω–Ω–∏-–ü—É—Ö?",
                options: ["–ú—ë–¥", "–Ø–±–ª–æ–∫–∏", "–ü–∏—Ä–æ–≥"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∑–ª–æ–¥–µ–π–∫—É –≤ '–†–∞–ø—É–Ω—Ü–µ–ª—å'?",
                options: ["–ú–∞–ª–µ—Ñ–∏—Å–µ–Ω—Ç–∞", "–ì–æ—Ç–µ–ª—å", "–£—Ä—Å—É–ª–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1576859898415-f53858c0de0a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∫–æ—Ä–æ–ª—ë–º –∂–∏–≤–æ—Ç–Ω—ã—Ö –≤ '–ö–æ—Ä–æ–ª–µ –õ—å–≤–µ'?",
                options: ["–°–∏–º–±–∞", "–ú—É—Ñ–∞—Å–∞", "–®—Ä–∞–º"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø—Ä–∏–Ω—Ü–∞ –≤ '–ë–µ–ª–æ—Å–Ω–µ–∂–∫–µ'?",
                options: ["–ü—Ä–∏–Ω—Ü –§–∏–ª–∏–ø–ø", "–ü—Ä–∏–Ω—Ü –û—á–∞—Ä–æ–≤–∞–Ω–∏–µ", "–ü—Ä–∏–Ω—Ü –§–ª–æ—Ä–∏–∞–Ω"],
                correct: 2,
                image: "https://images.unsplash.com/photo-1509310982748-a9f5a0a00c7f?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ –ø–ª–∞—Ç—å–µ –ó–æ–ª—É—à–∫–∏ –Ω–∞ –±–∞–ª—É?",
                options: ["–†–æ–∑–æ–≤–æ–µ", "–ì–æ–ª—É–±–æ–µ", "–ë–µ–ª–æ–µ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1570043849279-7d0ca4675682?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø—Ä–∏–Ω—Ü–µ—Å—Å—É-–ª—è–≥—É—à–∫—É?",
                options: ["–¢–∏–∞–Ω–∞", "–ü–æ–∫–∞—Ö–æ–Ω—Ç–∞—Å", "–ú–æ–∞–Ω–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤—Ä–∞–≥–æ–º –ö–∞–ø–∏—Ç–∞–Ω–∞ –ö—Ä—é–∫–∞?",
                options: ["–ü–∏—Ç–µ—Ä –ü—ç–Ω", "–ê–ª–∞–¥–¥–∏–Ω", "–ì–µ—Ä–∫—É–ª–µ—Å"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –≤–æ–ª—à–µ–±–Ω–∏—Ü—É –≤ '–°–ø—è—â–µ–π –∫—Ä–∞—Å–∞–≤–∏—Ü–µ'?",
                options: ["–£—Ä—Å—É–ª–∞", "–ú–∞–ª–µ—Ñ–∏—Å–µ–Ω—Ç–∞", "–ú–∞—á–µ—Ö–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç —Å–ø–∞–ª–∞ –ê–≤—Ä–æ—Ä–∞?",
                options: ["–°—Ç–æ –ª–µ—Ç", "–î–≤–∞–¥—Ü–∞—Ç—å –ª–µ—Ç", "–û–¥–∏–Ω –≥–æ–¥"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Å–æ–±–∞–∫—É –ú–∏–∫–∫–∏ –ú–∞—É—Å–∞?",
                options: ["–ü–ª—É—Ç–æ", "–ì—É—Ñ–∏", "–î–æ–Ω–∞–ª—å–¥"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ì–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–µ —Ñ–∏–ª—å–º–∞ '–ú–æ–∞–Ω–∞'?",
                options: ["–ê—Ñ—Ä–∏–∫–∞", "–ü–æ–ª–∏–Ω–µ–∑–∏—è", "–ê–≤—Å—Ç—Ä–∞–ª–∏—è"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –≤–æ–∂–∞–∫–∞ –ø–æ—Ç–µ—Ä—è–Ω–Ω—ã—Ö –º–∞–ª—å—á–∏—à–µ–∫ –≤ '–ü–∏—Ç–µ—Ä–µ –ü—ç–Ω–µ'?",
                options: ["–ü–∏—Ç–µ—Ä –ü—ç–Ω", "–ú–∞–π–∫–ª", "–î–∂–æ–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–≥—Ä–∞–µ—Ç –°–µ–±–∞—Å—Ç—å—è–Ω?",
                options: ["–ì–∏—Ç–∞—Ä–∞", "–ë–∞—Ä–∞–±–∞–Ω—ã", "–¢—Ä—É–±–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –±—É—Ä—É–Ω–¥—É–∫–æ–≤ –ß–∏–ø–∞ –∏ –î–µ–π–ª–∞?",
                options: ["–ß–∏–ø –∏ –î–µ–π–ª", "–¢–∏–∫ –∏ –¢–∞–∫", "–¢–æ–º –∏ –î–∂–µ—Ä—Ä–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –ª—É—á—à–∏–º –¥—Ä—É–≥–æ–º –°–∏–º–±—ã?",
                options: ["–¢–∏–º–æ–Ω", "–ü—É–º–±–∞", "–ù–∞–ª–∞"],
                correct: 2,
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫—É—Ä–∏—Ü—É –≤ '–ú–æ–∞–Ω–µ'?",
                options: ["–•–µ–π-–•–µ–π", "–ü—É–∞", "–ú–∞—É–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –ü—É–º–±–∞?",
                options: ["–°—É—Ä–∏–∫–∞—Ç", "–ë–æ—Ä–æ–¥–∞–≤–æ—á–Ω–∏–∫", "–ì–∏–µ–Ω–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º—ã—à–æ–Ω–∫–∞, –¥—Ä—É–≥–∞ –ó–æ–ª—É—à–∫–∏?",
                options: ["–ú–∏–∫–∫–∏", "–ì–∞—Å", "–î–∂–µ—Ä—Ä–∏"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1570043849279-7d0ca4675682?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —Ç–∞–∫–æ–π –°—Ç–∏—á?",
                options: ["–°–æ–±–∞–∫–∞", "–ò–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω–∏–Ω", "–ö–æ—Ç"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –¥–µ–≤–æ—á–∫—É –≤ '–õ–∏–ª–æ –∏ –°—Ç–∏—á'?",
                options: ["–õ–∏–ª–æ", "–ú–æ–∞–Ω–∞", "–í–∞–Ω–µ–ª–ª–æ–ø–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ —á–∏—Å–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ –º–∞—à–∏–Ω–µ –ú–æ–ª–Ω–∏–∏ –ú–∞–∫–ö—É–∏–Ω–∞?",
                options: ["95", "86", "51"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∏–≥—Ä—É—à–µ—á–Ω–æ–≥–æ –∫–æ—Å–º–æ–Ω–∞–≤—Ç–∞ –≤ '–ò—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä—É—à–µ–∫'?",
                options: ["–í—É–¥–∏", "–ë–∞–∑–∑ –õ–∞–π—Ç–µ—Ä", "–†–µ–∫—Å"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫—É—é —Ä–∞–±–æ—Ç—É –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ—Ç–µ—Ü –ú—É–ª–∞–Ω?",
                options: ["–í–æ–∏–Ω", "–§–µ—Ä–º–µ—Ä", "–¢–æ—Ä–≥–æ–≤–µ—Ü"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1451772741724-d20990422508?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫—Ä–æ–∫–æ–¥–∏–ª–∞ –≤ '–ü–∏—Ç–µ—Ä–µ –ü—ç–Ω–µ'?",
                options: ["–¢–∏–∫-–¢–∞–∫", "–°–Ω—ç–ø", "–ö—Ä–æ–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —Å–æ–∑–¥–∞–ª –ü–∏–Ω–æ–∫–∫–∏–æ?",
                options: ["–î–∂—É–∑–µ–ø–ø–µ", "–î–∂–µ–ø–µ—Ç—Ç–æ", "–î–∂–æ–≤–∞–Ω–Ω–∏"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Å–ª–æ–Ω—ë–Ω–∫–∞ —Å –±–æ–ª—å—à–∏–º–∏ —É—à–∞–º–∏?",
                options: ["–î–∞–º–±–æ", "–°–∏–º–±–∞", "–ë—ç–º–±–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ —Ñ–µ–π –≤ '–°–ø—è—â–µ–π –∫—Ä–∞—Å–∞–≤–∏—Ü–µ'?",
                options: ["–î–≤–µ", "–¢—Ä–∏", "–ß–µ—Ç—ã—Ä–µ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø–æ–ª—É–±–æ–≥–∞ –≤ '–ú–æ–∞–Ω–µ'?",
                options: ["–ú–∞—É–∏", "–¢–∞–º–∞—Ç–æ–∞", "–¢—É–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ —Ç—É—Ñ–µ–ª—å–∫–∏ –î–æ—Ä–æ—Ç–∏ –≤ '–í–æ–ª—à–µ–±–Ω–∏–∫–µ —Å—Ç—Ä–∞–Ω—ã –û–∑'?",
                options: ["–°–µ—Ä–µ–±—Ä—è–Ω—ã–µ", "–†—É–±–∏–Ω–æ–≤—ã–µ", "–ó–æ–ª–æ—Ç—ã–µ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –Ω—è–Ω—é –¥–µ—Ç–µ–π –≤ '–ü–∏—Ç–µ—Ä–µ –ü—ç–Ω–µ'?",
                options: ["–°–æ–±–∞–∫–∞ –ù–∞–Ω–∞", "–ö–æ—à–∫–∞ –ú–∞—Ä–∏", "–ü—Ç–∏—Ü–∞ –ò–∞–≥–æ"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–∞—è –ø–ª–∞–Ω–µ—Ç–∞ —Ä–æ–¥–∏–Ω–∞ –°—Ç–∏—á–∞?",
                options: ["–¢—É—Ä–∞", "–ö–≤–µ–ª—Ç–∞", "–Æ—Ä–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º–∞–ª—å—á–∏–∫–∞ –≤ '–ö–Ω–∏–≥–µ –¥–∂—É–Ω–≥–ª–µ–π'?",
                options: ["–ú–∞—É–≥–ª–∏", "–ê–∫–µ–ª–∞", "–ë–∞–≥–∏—Ä–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π —Ü–≤–µ—Ç –ª—é–±–∏—Ç –†–∞–ø—É–Ω—Ü–µ–ª—å?",
                options: ["–†–æ–∑–æ–≤—ã–π", "–§–∏–æ–ª–µ—Ç–æ–≤—ã–π", "–ó–µ–ª—ë–Ω—ã–π"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1576859898415-f53858c0de0a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫–∞–Ω–¥–µ–ª—è–±—Ä –≤ '–ö—Ä–∞—Å–∞–≤–∏—Ü–µ –∏ –ß—É–¥–æ–≤–∏—â–µ'?",
                options: ["–õ—é–º—å–µ—Ä", "–ö–æ–≥—Å–≤–æ—Ä—Ç", "–ß–∏–ø"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ –ø–æ–º–æ–≥ –ú—É–ª–∞–Ω —Å—Ç–∞—Ç—å –≤–æ–∏–Ω–æ–º?",
                options: ["–ú—É—à—É", "–û—Ç–µ—Ü", "–®–∞–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1451772741724-d20990422508?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —á–∞—Å—ã –≤ '–ö—Ä–∞—Å–∞–≤–∏—Ü–µ –∏ –ß—É–¥–æ–≤–∏—â–µ'?",
                options: ["–õ—é–º—å–µ—Ä", "–ö–æ–≥—Å–≤–æ—Ä—Ç", "–ü–ª—é–º–µ—Ç—Ç"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –±—Ä–∞—Ç—å–µ–≤ —É –ø—Ä–∏–Ω—Ü–∞ –ì–∞–Ω—Å–∞ –≤ '–•–æ–ª–æ–¥–Ω–æ–º —Å–µ—Ä–¥—Ü–µ'?",
                options: ["10", "12", "15"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –æ–ª–µ–Ω—è –ö—Ä–∏—Å—Ç–æ—Ñ–∞?",
                options: ["–û–ª–∞—Ñ", "–°–≤–µ–Ω", "–ì–∞–Ω—Å"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –ø–æ—Ä–æ–¥—ã —Å–æ–±–∞–∫–∞ –õ–µ–¥–∏?",
                options: ["–ö–æ–∫–µ—Ä-—Å–ø–∞–Ω–∏–µ–ª—å", "–¢–∞–∫—Å–∞", "–ü—É–¥–µ–ª—å"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏–≥—Ä—É—à–µ–∫ –≤ '–ò—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä—É—à–µ–∫'?",
                options: ["–≠–Ω–¥–∏", "–°–∏–¥", "–ë–∞–∑–∑"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º –ì–µ—Ä–∫—É–ª–µ—Å–∞?",
                options: ["–ó–µ–≤—Å", "–§–∏–ª–æ–∫—Ç–µ—Ç", "–ê–∏–¥"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫–æ—Ç–∞ –≤ '–ó–æ–ª—É—à–∫–µ'?",
                options: ["–õ—é—Ü–∏—Ñ–µ—Ä", "–ì–∞—Å", "–ñ–∞–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1570043849279-7d0ca4675682?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –≠–ª—å–∑–µ –∫–æ–≥–¥–∞ –æ–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∫–æ—Ä–æ–ª–µ–≤–æ–π?",
                options: ["18", "21", "25"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Ä—ã–±–∫—É –æ—Ç—Ü–∞ –ù–µ–º–æ?",
                options: ["–ú–∞—Ä–ª–∏–Ω", "–ë—Ä—é—Å", "–ö—Ä–∞—à"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ —à–ª—è–ø–∞ —É –ë–µ–ª–æ—Å–Ω–µ–∂–∫–∏?",
                options: ["–ö—Ä–∞—Å–Ω–∞—è", "–°–∏–Ω—è—è", "–ñ—ë–ª—Ç–∞—è"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1509310982748-a9f5a0a00c7f?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º—ã—à–æ–Ω–∫–∞ –ú–∏–∫–∫–∏?",
                options: ["–ú–∏–∫–∫–∏ –ú–∞—É—Å", "–î–æ–Ω–∞–ª—å–¥ –î–∞–∫", "–ì—É—Ñ–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ –ø–æ—ë—Ç –ø–µ—Å–Ω—é '–û—Ç–ø—É—Å—Ç–∏ –∏ –∑–∞–±—É–¥—å'?",
                options: ["–ê–Ω–Ω–∞", "–≠–ª—å–∑–∞", "–û–ª–∞—Ñ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç —Ä–æ–±–æ—Ç–∞ –≤ '–í–ê–õ–õ-–ò'?",
                options: ["–í–ê–õ–õ-–ò", "–ï–í–ê", "–ú-–û"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç —Å–ø–∏—Ç –°–ø—è—â–∞—è –∫—Ä–∞—Å–∞–≤–∏—Ü–∞?",
                options: ["50", "100", "150"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø—Ä–∏–Ω—Ü–∞ –≤ '–†—É—Å–∞–ª–æ—á–∫–µ'?",
                options: ["–≠—Ä–∏–∫", "–ê–¥–∞–º", "–§–∏–ª–∏–ø–ø"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ß—Ç–æ –ê—Ä–∏—ç–ª—å –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç?",
                options: ["–ñ–µ–º—á—É–≥", "–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã", "–†–∞–∫—É—à–∫–∏"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∫–æ—Ä–æ–ª—è —Ç—Ä–∏—Ç–æ–Ω–æ–≤?",
                options: ["–¢—Ä–∏—Ç–æ–Ω", "–°–µ–±–∞—Å—Ç—å—è–Ω", "–≠—Ä–∏–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–≥—Ä–∞–µ—Ç –ö–æ—Ä–æ–ª—å –¢—Ä–∏—Ç–æ–Ω?",
                options: ["–¢—Ä–µ–∑—É–±–µ—Ü", "–ê—Ä—Ñ–∞", "–¢—Ä—É–±–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ª—É—á—à—É—é –ø–æ–¥—Ä—É–≥—É –†–∞–ø—É–Ω—Ü–µ–ª—å (—Ö–∞–º–µ–ª–µ–æ–Ω)?",
                options: ["–ú–∞–∫—Å–∏–º—É—Å", "–ü–∞—Å–∫–∞–ª—å", "–§–ª–∏–Ω–Ω"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1576859898415-f53858c0de0a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–π –º–∞–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–µ–¥–º–µ—Ç –µ—Å—Ç—å —É –≠–ª—å–∑—ã?",
                options: ["–í–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞", "–õ–µ–¥—è–Ω—ã–µ —Å–∏–ª—ã", "–ö–æ—Ä–æ–Ω–∞"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1483381719261-1d7f82f8c364?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –ë–∞–∑–∑–∞ –õ–∞–π—Ç–µ—Ä–∞ –≤ —Ä—É—Å—Å–∫–æ–º –¥—É–±–ª—è–∂–µ?",
                options: ["–î–º–∏—Ç—Ä–∏–π –ù–∞–∑–∞—Ä–æ–≤", "–ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω –•–∞–±–µ–Ω—Å–∫–∏–π", "–í–ª–∞–¥–∏–º–∏—Ä –ú–∞—à–∫–æ–≤"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1587731556938-38755b4803a6?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º–∞—Ç—å –ë—ç–º–±–∏?",
                options: ["–§–∞–ª–∏–Ω", "–ú–∞–º–∞ –ë—ç–º–±–∏", "–¢–æ–ø–æ—Ç—É–Ω"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –∑–ª–æ–¥–µ–µ–º –≤ '–ê–ª–∞–¥–¥–∏–Ω–µ'?",
                options: ["–î–∂–∞—Ñ–∞—Ä", "–î–∂–∏–Ω–Ω", "–ê–±—É"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø–æ–ø—É–≥–∞—è –î–∂–∞—Ñ–∞—Ä–∞?",
                options: ["–Ø–≥–æ", "–ê–±—É", "–†–∞–¥–∂–∞"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –¥–∞–ª–º–∞—Ç–∏–Ω—Ü–µ–≤ –≤ —Ñ–∏–ª—å–º–µ '101 –¥–∞–ª–º–∞—Ç–∏–Ω–µ—Ü'?",
                options: ["99", "101", "100"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º–µ–¥–≤–µ–¥—è –≤ '–ú–∞—É–≥–ª–∏'?",
                options: ["–ë–∞–ª—É", "–ë–∞–≥–∏—Ä–∞", "–®–µ—Ä-–•–∞–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ –ë–∞–≥–∏—Ä–∞?",
                options: ["–¢–∏–≥—Ä", "–ü–∞–Ω—Ç–µ—Ä–∞", "–õ–µ–æ–ø–∞—Ä–¥"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1589656966895-2f33e7653819?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø—Ä–∏–Ω—Ü–∞ –≤ '–ö—Ä–∞—Å–∞–≤–∏—Ü–µ –∏ –ß—É–¥–æ–≤–∏—â–µ'?",
                options: ["–ê–¥–∞–º", "–≠—Ä–∏–∫", "–§–∏–ª–∏–ø–ø"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–°–∫–æ–ª—å–∫–æ –ª–µ—Ç –±—ã–ª–æ –ê—Ä–∏—ç–ª—å?",
                options: ["15", "16", "17"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –∑–ª–æ–¥–µ—è –≤ '–ì–µ—Ä–∫—É–ª–µ—Å–µ'?",
                options: ["–ê–∏–¥", "–ó–µ–≤—Å", "–ü–æ—Å–µ–π–¥–æ–Ω"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–≥–æ —Ü–≤–µ—Ç–∞ –ø–ª–∞—Ç—å–µ –ú–µ—Ä–∏–¥—ã?",
                options: ["–°–∏–Ω–µ–µ", "–ó–µ–ª—ë–Ω–æ–µ", "–ö—Ä–∞—Å–Ω–æ–µ"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–±—ë–Ω–∫–∞ –•–µ–ª–µ–Ω –ü–∞—Ä—Ä (–ú–∏—Å—Å–∏—Å –ò—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–∞—è)?",
                options: ["–í–∞–π–æ–ª–µ—Ç", "–î—ç—à", "–î–∂–µ–∫-–î–∂–µ–∫"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Ç—Ü–æ–º –°–∏–º–±—ã?",
                options: ["–®—Ä–∞–º", "–ú—É—Ñ–∞—Å–∞", "–†–∞—Ñ–∏–∫–∏"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –º—É–¥—Ä—É—é –æ–±–µ–∑—å—è–Ω—É –≤ '–ö–æ—Ä–æ–ª–µ –õ—å–≤–µ'?",
                options: ["–†–∞—Ñ–∏–∫–∏", "–ó–∞–∑—É", "–≠–¥"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1556103255-4443dbae8e5a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–æ–µ –æ—Ä—É–∂–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ú–µ—Ä–∏–¥–∞?",
                options: ["–ú–µ—á", "–õ—É–∫ –∏ —Å—Ç—Ä–µ–ª—ã", "–ö–æ–ø—å—ë"],
                correct: 1,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af9f23?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ª–µ–Ω–∏–≤—Ü–∞ –≤ '–ó–≤–µ—Ä–æ–ø–æ–ª–∏—Å–µ'?",
                options: ["–§–ª—ç—à", "–ù–∏–∫", "–î–∂—É–¥–∏"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö—Ç–æ –≥–ª–∞–≤–Ω–∞—è –≥–µ—Ä–æ–∏–Ω—è '–ó–≤–µ—Ä–æ–ø–æ–ª–∏—Å–∞'?",
                options: ["–î–∂—É–¥–∏ –•–æ–ø—Å", "–ì–∞–∑–µ–ª–ª–∞", "–ë–µ–ª–ª—É—ç–∑–µ—Ä"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫ –∑–æ–≤—É—Ç –ª–∏—Å—É –≤ '–ó–≤–µ—Ä–æ–ø–æ–ª–∏—Å–µ'?",
                options: ["–ù–∏–∫ –£–∞–π–ª–¥", "–§–ª—ç—à", "–ö–ª–æ—É—Ö–∞—É–∑–µ—Ä"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            },
            {
                question: "–ö–∞–∫–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏—è —É –î–∂—É–¥–∏ –≤ '–ó–≤–µ—Ä–æ–ø–æ–ª–∏—Å–µ'?",
                options: ["–ü–æ–ª–∏—Ü–µ–π—Å–∫–∏–π", "–í—Ä–∞—á", "–£—á–∏—Ç–µ–ª—å"],
                correct: 0,
                image: "https://images.unsplash.com/photo-1535930891776-0c2dfb7fda1a?w=800&auto=format&fit=crop"
            }
        ];

        // Initialize the game
        window.onload = function() {
            getUserLocation();
        };

        // Get user's current location
        function getUserLocation() {
            if (!navigator.geolocation) {
                document.getElementById('locationStatus').innerHTML = '‚ùå –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º';
                return;
            }

            navigator.geolocation.getCurrentPosition(
                position => {
                    userLocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    document.getElementById('locationStatus').innerHTML = 
                        `‚úÖ –ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ: ${userLocation.lat.toFixed(6)}, ${userLocation.lng.toFixed(6)}`;
                    document.getElementById('startBtn').disabled = false;
                },
                error => {
                    document.getElementById('locationStatus').innerHTML = 
                        `‚ùå –û—à–∏–±–∫–∞: ${error.message}. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é.`;
                }
            );
        }

        // Select timer option
        function selectTimerOption(enabled) {
            timerEnabled = enabled;
            
            // Update button states
            document.getElementById('noTimerBtn').classList.toggle('active', !enabled);
            document.getElementById('withTimerBtn').classList.toggle('active', enabled);
            
            // Show/hide timer settings
            document.getElementById('timerSettings').style.display = enabled ? 'block' : 'none';
        }

        // Show map selector screen
        function showMapSelector() {
            questionCount = parseInt(document.getElementById('questionCount').value);
            mapStyle = 'street'; // Always use street map
            
            if (timerEnabled) {
                timerMinutes = parseInt(document.getElementById('timerMinutes').value);
            }
            
            if (!userLocation) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é!');
                return;
            }

            if (questionCount < 1 || questionCount > 20) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π –æ—Ç 1 –¥–æ 20');
                return;
            }

            showScreen('map-selector-screen');
            initSelectorMap();
        }

        // Initialize the selector map
        function initSelectorMap() {
            if (selectorMap) {
                selectorMap.remove();
            }

            selectorMap = L.map('selectorMap', {
                doubleClickZoom: false  // Disable double-click zoom for polygon drawing
            }).setView([userLocation.lat, userLocation.lng], 15);
            
            // Add tile layer based on selected style
            const tileUrls = {
                street: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                satellite: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'
            };
            
            const attributions = {
                street: '¬© OpenStreetMap contributors',
                satellite: '¬© Esri, Maxar, Earthstar Geographics'
            };
            
            L.tileLayer(tileUrls[mapStyle], {
                attribution: attributions[mapStyle]
            }).addTo(selectorMap);

            // Add user location marker
            L.marker([userLocation.lat, userLocation.lng], {
                icon: L.divIcon({
                    className: 'user-marker',
                    html: '<div style="background: #2196f3; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>',
                    iconSize: [16, 16],
                    iconAnchor: [8, 8]
                })
            }).addTo(selectorMap);

            // Setup drawing interaction
            setupDrawing();
        }

        // Clear drawn shape
        function clearDrawing() {
            if (drawnShape) {
                selectorMap.removeLayer(drawnShape);
                drawnShape = null;
                selectedCenter = null;
            }
            isDrawing = false;
            drawingPoints = [];
            document.getElementById('drawingHint').textContent = 'üëÜ –ù–∞—á–Ω–∏—Ç–µ –Ω–∞–∂–∏–º–∞—Ç—å –Ω–∞ –∫–∞—Ä—Ç—É –Ω–∏–∂–µ';
        }

        // Setup drawing interaction
        function setupDrawing() {
            let tempShape = null;

            // Polygon uses click events
            selectorMap.on('click', function(e) {
                // Add point to polygon
                drawingPoints.push(e.latlng);
                
                if (drawingPoints.length === 1) {
                    isDrawing = true;
                    if (drawnShape) {
                        selectorMap.removeLayer(drawnShape);
                        drawnShape = null;
                    }
                }
                
                // Draw temporary polygon
                if (tempShape) {
                    selectorMap.removeLayer(tempShape);
                }
                
                if (drawingPoints.length >= 2) {
                    tempShape = L.polygon(drawingPoints, {
                        color: '#667eea',
                        fillColor: '#667eea',
                        fillOpacity: 0.2,
                        weight: 3
                    }).addTo(selectorMap);
                } else if (drawingPoints.length === 1) {
                    // Show a marker for the first point
                    tempShape = L.circleMarker(drawingPoints[0], {
                        radius: 5,
                        color: '#667eea',
                        fillColor: '#667eea',
                        fillOpacity: 0.5
                    }).addTo(selectorMap);
                }
            });

            selectorMap.on('dblclick', function(e) {
                L.DomEvent.stop(e);
                
                if (drawingPoints.length >= 3) {
                    // Finish polygon
                    if (tempShape) {
                        selectorMap.removeLayer(tempShape);
                    }
                    
                    drawnShape = L.polygon(drawingPoints, {
                        color: '#667eea',
                        fillColor: '#667eea',
                        fillOpacity: 0.2,
                        weight: 3
                    }).addTo(selectorMap);
                    
                    // Calculate center
                    const bounds = drawnShape.getBounds();
                    selectedCenter = bounds.getCenter();
                    
                    isDrawing = false;
                    drawingPoints = [];
                    
                    document.getElementById('drawingHint').textContent = '‚úì –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∞! –ú–æ–∂–µ—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∏–ª–∏ –Ω–∞—Ä–∏—Å–æ–≤–∞—Ç—å –∑–∞–Ω–æ–≤–æ';
                }
            });
        }

        // Update circle radius from slider (removed - no longer needed)
        function updateCircleRadius(value) {
            // This function is no longer used but kept for compatibility
        }

        // Confirm area selection and start game
        function confirmAreaSelection() {
            if (!drawnShape) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞—Ä–∏—Å—É–π—Ç–µ –æ–±–ª–∞—Å—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ');
                return;
            }

            if (!selectedCenter) {
                alert('–û—à–∏–±–∫–∞: —Ü–µ–Ω—Ç—Ä –æ–±–ª–∞—Å—Ç–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω');
                return;
            }

            startGame();
        }

        // Back to setup screen
        function backToSetup() {
            if (selectorMap) {
                selectorMap.remove();
                selectorMap = null;
            }
            showScreen('setup-screen');
        }

        // Start tracking user location
        function startLocationTracking() {
            if (navigator.geolocation) {
                watchId = navigator.geolocation.watchPosition(
                    position => {
                        userLocation = {
                            lat: position.coords.latitude,
                            lng: position.coords.longitude
                        };
                        updateUserMarker();
                        updateQuestionStatuses();
                    },
                    error => console.error('Location tracking error:', error),
                    { enableHighAccuracy: true, maximumAge: 0 }
                );
            }
        }

        // Stop tracking user location
        function stopLocationTracking() {
            if (watchId !== null) {
                navigator.geolocation.clearWatch(watchId);
                watchId = null;
            }
        }

        // Start the game
        function startGame() {
            if (!userLocation) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—é!');
                return;
            }

            if (!selectedCenter) {
                selectedCenter = {lat: userLocation.lat, lng: userLocation.lng};
            }

            // Mix questions and challenges (50% questions, 50% challenges)
            const numQuestions = Math.ceil(questionCount * 0.5);
            const numChallenges = questionCount - numQuestions;
            
            // Get random questions
            const selectedQuestions = getRandomQuestions(numQuestions).map(q => ({
                ...q,
                itemType: 'question'
            }));
            
            // Get random challenges
            const selectedChallenges = getRandomChallenges(numChallenges).map(c => ({
                ...c,
                itemType: 'challenge'
            }));
            
            // Combine and shuffle
            questions = [...selectedQuestions, ...selectedChallenges].sort(() => Math.random() - 0.5);
            
            // Assign random locations to all items
            questions.forEach((q, index) => {
                q.id = index;
                q.location = getRandomLocationInRadius(selectedCenter, radius);
                q.distance = calculateDistance(userLocation, q.location);
                q.unlocked = false;
                q.answered = false;
                q.userAnswer = null;
            });

            score = 0;
            starsCollected = 0;
            totalStars = questionCount; // Each item gives 1 star

            // Clean up selector map
            if (selectorMap) {
                selectorMap.remove();
                selectorMap = null;
            }

            showScreen('map-screen');
            initMap();
            startLocationTracking();
            startCompassTracking();
            
            // Update star counter
            document.getElementById('starsCount').textContent = starsCollected;
            document.getElementById('totalStarsCount').textContent = totalStars;
            
            // Start timer if enabled
            if (timerEnabled) {
                startTimer();
            }
        }

        // Initialize map
        function initMap() {
            if (map) {
                map.remove();
            }

            map = L.map('map').setView([userLocation.lat, userLocation.lng], 16);
            
            // Add tile layer based on selected style
            const tileUrls = {
                street: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
                satellite: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'
            };
            
            const attributions = {
                street: '¬© OpenStreetMap contributors',
                satellite: '¬© Esri, Maxar, Earthstar Geographics'
            };
            
            tileLayer = L.tileLayer(tileUrls[mapStyle], {
                attribution: attributions[mapStyle]
            }).addTo(map);

            // Add user marker with compass arrow
            userMarker = L.marker([userLocation.lat, userLocation.lng], {
                icon: L.divIcon({
                    className: 'user-marker',
                    html: `<div style="position: relative; width: 40px; height: 40px;">
                        <div style="background: rgba(33, 150, 243, 0.2); width: 40px; height: 40px; border-radius: 50%; border: 2px solid #2196f3; position: absolute; top: 0; left: 0;"></div>
                        <div style="background: #2196f3; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); position: absolute; top: 12px; left: 12px;"></div>
                        <div id="compass-arrow" style="position: absolute; top: -5px; left: 16px; width: 0; height: 0; border-left: 4px solid transparent; border-right: 4px solid transparent; border-bottom: 20px solid #ff5722; transform-origin: 4px 15px; transform: rotate(${currentHeading}deg); filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));"></div>
                    </div>`,
                    iconSize: [40, 40],
                    iconAnchor: [20, 20]
                })
            }).addTo(map);

            // Add question markers
            questions.forEach((q, index) => {
                const color = q.answered ? '#2196f3' : (q.unlocked ? '#4caf50' : '#f44336');
                const marker = L.marker([q.location.lat, q.location.lng], {
                    icon: L.divIcon({
                        className: 'question-marker',
                        html: `<div style="background: ${color}; width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">${index + 1}</div>`,
                        iconSize: [30, 30]
                    })
                }).addTo(map);

                marker.on('click', () => openQuestion(index));
                questionMarkers.push(marker);
            });

            // Draw the selected area shape on the game map
            if (drawnShape) {
                const shapeOptions = {
                    color: '#667eea',
                    fillColor: '#667eea',
                    fillOpacity: 0.1,
                    weight: 2
                };

                // Always polygon since we removed circle and rectangle
                L.polygon(drawnShape.getLatLngs()[0], shapeOptions).addTo(map);
            }

            // Mark the center of selection area
            L.marker([selectedCenter.lat, selectedCenter.lng], {
                icon: L.divIcon({
                    className: 'center-marker',
                    html: '<div style="background: #ff5722; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>',
                    iconSize: [12, 12],
                    iconAnchor: [6, 6]
                })
            }).addTo(map);
        }

        // Update user marker position
        function updateUserMarker() {
            if (userMarker && map) {
                userMarker.setLatLng([userLocation.lat, userLocation.lng]);
                userMarker.setIcon(L.divIcon({
                    className: 'user-marker',
                    html: `<div style="position: relative; width: 40px; height: 40px;">
                        <div style="background: rgba(33, 150, 243, 0.2); width: 40px; height: 40px; border-radius: 50%; border: 2px solid #2196f3; position: absolute; top: 0; left: 0;"></div>
                        <div style="background: #2196f3; width: 16px; height: 16px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); position: absolute; top: 12px; left: 12px;"></div>
                        <div id="compass-arrow" style="position: absolute; top: -5px; left: 16px; width: 0; height: 0; border-left: 4px solid transparent; border-right: 4px solid transparent; border-bottom: 20px solid #ff5722; transform-origin: 4px 15px; transform: rotate(${currentHeading}deg); filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));"></div>
                    </div>`,
                    iconSize: [40, 40],
                    iconAnchor: [20, 20]
                }));
            }
        }

        // Update question unlock statuses
        function updateQuestionStatuses() {
            questions.forEach((q, index) => {
                if (!q.answered) {
                    q.distance = calculateDistance(userLocation, q.location);
                    const wasUnlocked = q.unlocked;
                    q.unlocked = q.distance <= UNLOCK_DISTANCE;
                    
                    if (q.unlocked !== wasUnlocked) {
                        updateMarkerColor(index);
                    }
                }
            });
        }

        // Start tracking device compass/orientation
        function startCompassTracking() {
            if ('ondeviceorientationabsolute' in window) {
                window.addEventListener('deviceorientationabsolute', handleOrientation, true);
            } else if ('ondeviceorientation' in window) {
                window.addEventListener('deviceorientation', handleOrientation, true);
            }
        }

        // Stop tracking device compass/orientation
        function stopCompassTracking() {
            window.removeEventListener('deviceorientationabsolute', handleOrientation, true);
            window.removeEventListener('deviceorientation', handleOrientation, true);
        }

        // Handle device orientation changes
        function handleOrientation(event) {
            let heading = event.webkitCompassHeading || event.alpha;
            
            if (heading !== null && heading !== undefined) {
                // For iOS: webkitCompassHeading gives true north
                // For Android: alpha needs to be inverted
                if (event.webkitCompassHeading) {
                    currentHeading = heading;
                } else {
                    currentHeading = 360 - heading;
                }
                
                updateUserMarker();
            }
        }

        // Update marker color
        function updateMarkerColor(index) {
            const q = questions[index];
            let color;
            
            if (q.skipped) {
                color = '#ff9800'; // Orange for skipped
            } else if (q.answered) {
                color = '#2196f3'; // Blue for answered
            } else if (q.unlocked) {
                color = '#4caf50'; // Green for unlocked
            } else {
                color = '#f44336'; // Red for locked
            }
            
            if (questionMarkers[index]) {
                questionMarkers[index].setIcon(L.divIcon({
                    className: 'question-marker',
                    html: `<div style="background: ${color}; width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">${index + 1}</div>`,
                    iconSize: [30, 30]
                }));
            }
        }

        // Open question
        function openQuestion(index) {
            const q = questions[index];
            
            if (q.answered) {
                alert('–í—ã —É–∂–µ –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å!');
                return;
            }

            if (!q.unlocked) {
                showQuestionOptions(index);
                return;
            }

            showQuestion(index);
        }

        // Show options for locked question
        function showQuestionOptions(index) {
            const q = questions[index];
            const distance = q.distance.toFixed(1);
            
            const message = `–í–æ–ø—Ä–æ—Å ${index + 1} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω\n\n–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${distance}–º (–Ω—É–∂–Ω–æ: ${UNLOCK_DISTANCE}–º)\n\n–ß—Ç–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å?`;
            
            // Create custom dialog with options
            const dialog = document.createElement('div');
            dialog.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0,0,0,0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
            `;
            
            dialog.innerHTML = `
                <div style="background: white; border-radius: 20px; padding: 30px; max-width: 400px; width: 90%; box-shadow: 0 20px 60px rgba(0,0,0,0.3);">
                    <h3 style="color: #667eea; margin-bottom: 15px; text-align: center;">–í–æ–ø—Ä–æ—Å ${index + 1} –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω üîí</h3>
                    <p style="text-align: center; margin-bottom: 20px; color: #666;">
                        –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: <strong>${distance}–º</strong> (–Ω—É–∂–Ω–æ: ${UNLOCK_DISTANCE}–º)
                    </p>
                    <button onclick="skipQuestion(${index})" style="width: 100%; padding: 15px; margin-bottom: 10px; background: #ff9800; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer;">
                        ‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–æ–ø—Ä–æ—Å
                    </button>
                    <button onclick="relocateQuestion(${index})" style="width: 100%; padding: 15px; margin-bottom: 10px; background: #2196f3; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer;">
                        üìç –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ
                    </button>
                    <button onclick="closeQuestionDialog()" style="width: 100%; padding: 15px; background: #6c757d; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer;">
                        ‚ùå –û—Ç–º–µ–Ω–∞
                    </button>
                </div>
            `;
            
            dialog.id = 'questionDialog';
            document.body.appendChild(dialog);
        }

        // Close question options dialog
        function closeQuestionDialog() {
            const dialog = document.getElementById('questionDialog');
            if (dialog) {
                dialog.remove();
            }
        }

        // Skip question
        function skipQuestion(index) {
            const q = questions[index];
            q.skipped = true;
            q.answered = true; // Mark as "answered" so it can't be clicked again
            
            // Update marker to show it's skipped
            updateMarkerColor(index);
            
            closeQuestionDialog();
            
            alert(`–í–æ–ø—Ä–æ—Å ${index + 1} –ø—Ä–æ–ø—É—â–µ–Ω`);
        }

        // Relocate question to new random location
        function relocateQuestion(index) {
            const q = questions[index];
            
            // Generate new location
            q.location = getRandomLocationInRadius(selectedCenter, radius);
            q.distance = calculateDistance(userLocation, q.location);
            q.unlocked = q.distance <= UNLOCK_DISTANCE;
            
            // Update marker position
            if (questionMarkers[index]) {
                questionMarkers[index].setLatLng([q.location.lat, q.location.lng]);
                updateMarkerColor(index);
            }
            
            closeQuestionDialog();
            
            alert(`–í–æ–ø—Ä–æ—Å ${index + 1} –ø–µ—Ä–µ–º–µ—â—ë–Ω –≤ –Ω–æ–≤–æ–µ –º–µ—Å—Ç–æ!\n–ù–æ–≤–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${q.distance.toFixed(1)}–º`);
        }

        // Show question screen
        function showQuestion(index) {
            const item = questions[index];
            
            document.getElementById('proximityStatus').innerHTML = `
                <div class="proximity-ok">
                    ‚úÖ ${item.itemType === 'challenge' ? '–ó–∞–¥–∞–Ω–∏–µ' : '–í–æ–ø—Ä–æ—Å'} ${index + 1} —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω! –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ: ${item.distance.toFixed(1)}–º
                </div>
            `;
            
            const questionCard = document.querySelector('.question-card');
            
            if (item.itemType === 'challenge') {
                // Show challenge
                questionCard.innerHTML = `
                    <img src="${item.image}" alt="–ó–∞–¥–∞–Ω–∏–µ ${index + 1}" class="question-image" onerror="this.style.display='none'">
                    <div style="text-align: center; font-size: 48px; margin-bottom: 15px;">${item.icon}</div>
                    <div class="question-text" style="text-align: center; color: #ff9800;">${item.challenge}</div>
                    <div style="text-align: center; margin-top: 25px;">
                        <button onclick="completeChallenge(${index}, true)" style="padding: 15px 30px; margin: 10px; background: #4caf50; color: white; border: none; border-radius: 10px; font-size: 18px; font-weight: 600; cursor: pointer;">
                            ‚úÖ –í—ã–ø–æ–ª–Ω–∏–ª–∞!
                        </button>
                        <button onclick="completeChallenge(${index}, false)" style="padding: 15px 30px; margin: 10px; background: #f44336; color: white; border: none; border-radius: 10px; font-size: 18px; font-weight: 600; cursor: pointer;">
                            ‚ùå –ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å
                        </button>
                    </div>
                `;
            } else {
                // Show question
                questionCard.innerHTML = `
                    <img src="${item.image}" alt="–í–æ–ø—Ä–æ—Å ${index + 1}" class="question-image" onerror="this.style.display='none'">
                    <div class="question-text">${item.question}</div>
                    <div class="options" id="optionsContainer"></div>
                `;
                
                const optionsContainer = document.getElementById('optionsContainer');
                
                item.options.forEach((option, optIndex) => {
                    const optionDiv = document.createElement('div');
                    optionDiv.className = 'option';
                    optionDiv.textContent = option;
                    optionDiv.onclick = () => selectAnswer(index, optIndex);
                    optionsContainer.appendChild(optionDiv);
                });
            }

            showScreen('question-screen');
        }

        // Complete challenge
        function completeChallenge(index, success) {
            const challenge = questions[index];
            challenge.answered = true;
            challenge.userAnswer = success;
            
            if (success) {
                score++;
                starsCollected++;
                showStarAnimation();
            }
            
            updateMarkerColor(index);
            
            setTimeout(() => {
                backToMap();
            }, success ? 1500 : 1000);
        }

        // Show star collection animation
        function showStarAnimation() {
            const star = document.createElement('div');
            star.innerHTML = '‚≠ê';
            star.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-size: 100px;
                z-index: 10000;
                animation: collectStar 1.5s ease-out forwards;
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes collectStar {
                    0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
                    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
                    100% { transform: translate(-50%, -150%) scale(0.5); opacity: 0; }
                }
            `;
            
            document.head.appendChild(style);
            document.body.appendChild(star);
            
            setTimeout(() => {
                star.remove();
                style.remove();
            }, 1500);
        }

        // Handle answer selection
        function selectAnswer(questionIndex, selectedIndex) {
            const question = questions[questionIndex];
            const options = document.querySelectorAll('.option');
            
            // Disable all options
            options.forEach(opt => {
                opt.classList.add('disabled');
                opt.onclick = null;
            });

            // Mark correct and incorrect
            options[question.correct].classList.add('correct');
            if (selectedIndex !== question.correct) {
                options[selectedIndex].classList.add('incorrect');
            } else {
                score++;
                starsCollected++;
                showStarAnimation();
            }

            // Store answer
            question.answered = true;
            question.userAnswer = selectedIndex;

            // Update marker
            updateMarkerColor(questionIndex);

            // Show result and go back after delay
            setTimeout(() => {
                backToMap();
            }, 2000);
        }

        // Back to map
        function backToMap() {
            // Update star counter
            document.getElementById('starsCount').textContent = starsCollected;
            showScreen('map-screen');
        }

        // Get random questions from pool
        function getRandomQuestions(count) {
            const shuffled = [...questionPool].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count).map(q => ({...q}));
        }

        // Get random challenges from pool
        function getRandomChallenges(count) {
            const shuffled = [...challengePool].sort(() => Math.random() - 0.5);
            return shuffled.slice(0, count).map(c => ({...c}));
        }

        // Check if a point is inside a polygon using ray casting algorithm
        function isPointInPolygon(point, polygonLatLngs) {
            const x = point.lat;
            const y = point.lng;
            let inside = false;

            for (let i = 0, j = polygonLatLngs.length - 1; i < polygonLatLngs.length; j = i++) {
                const xi = polygonLatLngs[i].lat, yi = polygonLatLngs[i].lng;
                const xj = polygonLatLngs[j].lat, yj = polygonLatLngs[j].lng;

                const intersect = ((yi > y) !== (yj > y)) &&
                    (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
                if (intersect) inside = !inside;
            }
            return inside;
        }

        // Generate random location strictly within the drawn polygon
        function getRandomLocationInRadius(center, radiusInMeters) {
            if (!drawnShape) {
                // Fallback to simple circle around center
                const radiusInDegrees = 500 / 111320;
                const u = Math.random();
                const v = Math.random();
                const w = radiusInDegrees * Math.sqrt(u);
                const t = 2 * Math.PI * v;
                return {
                    lat: center.lat + w * Math.cos(t),
                    lng: center.lng + w * Math.sin(t) / Math.cos(center.lat * Math.PI / 180)
                };
            }

            const bounds = drawnShape.getBounds();
            const polygonLatLngs = drawnShape.getLatLngs()[0];

            const south = bounds.getSouth();
            const north = bounds.getNorth();
            const west = bounds.getWest();
            const east = bounds.getEast();

            let attempts = 0;
            const maxAttempts = 500;

            while (attempts < maxAttempts) {
                const lat = south + Math.random() * (north - south);
                const lng = west + Math.random() * (east - west);
                const candidate = L.latLng(lat, lng);

                if (isPointInPolygon(candidate, polygonLatLngs)) {
                    return { lat, lng };
                }
                attempts++;
            }

            // Last resort: return the center of the polygon
            return { lat: center.lat, lng: center.lng };
        }

        // Calculate distance between two points
        function calculateDistance(point1, point2) {
            const R = 6371e3;
            const œÜ1 = point1.lat * Math.PI / 180;
            const œÜ2 = point2.lat * Math.PI / 180;
            const ŒîœÜ = (point2.lat - point1.lat) * Math.PI / 180;
            const ŒîŒª = (point2.lng - point1.lng) * Math.PI / 180;

            const a = Math.sin(ŒîœÜ/2) * Math.sin(ŒîœÜ/2) +
                    Math.cos(œÜ1) * Math.cos(œÜ2) *
                    Math.sin(ŒîŒª/2) * Math.sin(ŒîŒª/2);
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

            return R * c;
        }

        // Start timer
        function startTimer() {
            timeLeft = timerMinutes * 60; // Convert to seconds
            document.getElementById('timerDisplay').style.display = 'block';
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    stopTimer();
                    alert('‚è∞ –í—Ä–µ–º—è –≤—ã—à–ª–æ! –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.');
                    showResults();
                }
            }, 1000);
        }

        // Stop timer
        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
        }

        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timeRemaining').textContent = display;
            
            // Change color when time is running out
            const timerDisplay = document.getElementById('timerDisplay');
            if (timeLeft <= 60) {
                timerDisplay.style.background = '#f8d7da';
                timerDisplay.style.color = '#721c24';
            } else if (timeLeft <= 300) {
                timerDisplay.style.background = '#fff3cd';
                timerDisplay.style.color = '#856404';
            }
        }

        // Show results screen
        function showResults() {
            stopLocationTracking();
            stopCompassTracking();
            stopTimer();
            
            const answeredCount = questions.filter(q => q.answered && !q.skipped).length;
            const skippedCount = questions.filter(q => q.skipped).length;
            const totalQuestions = questions.length;
            
            // Calculate badge/achievement
            let badge = '';
            let badgeEmoji = '';
            const starPercentage = (starsCollected / totalStars) * 100;
            
            if (starPercentage === 100) {
                badge = '–ú–ê–°–¢–ï–† DISNEY!';
                badgeEmoji = 'üèÜ';
            } else if (starPercentage >= 80) {
                badge = '–°–£–ü–ï–† –ó–í–ï–ó–î–ê!';
                badgeEmoji = 'üåü';
            } else if (starPercentage >= 60) {
                badge = '–û–¢–õ–ò–ß–ù–û!';
                badgeEmoji = '‚≠ê';
            } else if (starPercentage >= 40) {
                badge = '–ú–û–õ–û–î–ï–¶!';
                badgeEmoji = 'üéØ';
            } else {
                badge = '–•–û–†–û–®–ê–Ø –ü–û–ü–´–¢–ö–ê!';
                badgeEmoji = 'üéÆ';
            }
            
            document.getElementById('finalScore').innerHTML = `
                <div style="font-size: 60px; margin-bottom: 10px;">${badgeEmoji}</div>
                <div style="font-size: 32px; color: #667eea; margin-bottom: 15px;">${badge}</div>
                <div style="font-size: 48px; color: #ffd700;">‚≠ê ${starsCollected}/${totalStars}</div>
            `;
            
            // Update score text
            const scoreText = document.querySelector('.score-text');
            let statusText = `–°–æ–±—Ä–∞–Ω–æ –∑–≤—ë–∑–¥<br><span style="font-size: 14px; color: #999;">–û—Ç–≤–µ—á–µ–Ω–æ: ${answeredCount} –∏–∑ ${totalQuestions}`;
            if (skippedCount > 0) {
                statusText += `<br>–ü—Ä–æ–ø—É—â–µ–Ω–æ: ${skippedCount}`;
            }
            statusText += `</span>`;
            scoreText.innerHTML = statusText;
            
            let feedback = '';
            if (answeredCount === 0) {
                feedback = "–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑! –¢—ã —Å–º–æ–∂–µ—à—å! üéÆ";
            } else {
                if (starPercentage === 100) {
                    feedback = "–£–†–ê! –¢—ã —Å–æ–±—Ä–∞–ª–∞ –≤—Å–µ –∑–≤—ë–∑–¥—ã! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∞—è —á–µ–º–ø–∏–æ–Ω–∫–∞! üéâüéä";
                } else if (starPercentage >= 80) {
                    feedback = "–û—Ç–ª–∏—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞! –¢—ã –ø–æ—á—Ç–∏ —Å–æ–±—Ä–∞–ª–∞ –≤—Å–µ –∑–≤—ë–∑–¥—ã! üåü";
                } else if (starPercentage >= 60) {
                    feedback = "–•–æ—Ä–æ—à–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ! üé¨";
                } else {
                    feedback = "–ù–µ–ø–ª–æ—Ö–æ! –í —Å–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑ –ø–æ–ª—É—á–∏—Ç—Å—è –µ—â—ë –ª—É—á—à–µ! üçø";
                }
                
                // Add note if not all questions were answered
                const unansweredCount = totalQuestions - answeredCount - skippedCount;
                if (unansweredCount > 0) {
                    feedback += `\n\n–ù–µ —É—Å–ø–µ–ª–∞: ${unansweredCount} ${unansweredCount === 1 ? '–∑–∞–¥–∞–Ω–∏–µ' : unansweredCount < 5 ? '–∑–∞–¥–∞–Ω–∏—è' : '–∑–∞–¥–∞–Ω–∏–π'}.`;
                }
                if (skippedCount > 0) {
                    feedback += `\n–ü—Ä–æ–ø—É—â–µ–Ω–æ: ${skippedCount}.`;
                }
            }
            
            document.getElementById('feedback').textContent = feedback;
            
            // Show detailed results
            const resultsList = document.getElementById('resultsList');
            resultsList.innerHTML = '<h3 style="margin-bottom: 15px;">–¢–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:</h3>';
            
            questions.forEach((item, index) => {
                if (item.answered && !item.skipped) {
                    const resultItem = document.createElement('div');
                    
                    if (item.itemType === 'challenge') {
                        // Show challenge result
                        const success = item.userAnswer === true;
                        resultItem.className = `result-item ${success ? 'correct' : 'incorrect'}`;
                        resultItem.innerHTML = `
                            <div style="font-size: 32px; text-align: center; margin-bottom: 10px;">${item.icon}</div>
                            <div class="result-question">${index + 1}. ${item.challenge}</div>
                            <div class="result-answer">
                                ${success ? '‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ! ‚≠ê' : '‚ùå –ù–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å'}
                            </div>
                        `;
                    } else {
                        // Show question result
                        const isCorrect = item.userAnswer === item.correct;
                        resultItem.className = `result-item ${isCorrect ? 'correct' : 'incorrect'}`;
                        resultItem.innerHTML = `
                            <div class="result-question">${index + 1}. ${item.question}</div>
                            <div class="result-answer">
                                –û—Ç–≤–µ—Ç: ${item.options[item.userAnswer]} ${isCorrect ? '‚úì ‚≠ê' : '‚úó'}<br>
                                ${!isCorrect ? `–ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${item.options[item.correct]}` : ''}
                            </div>
                        `;
                    }
                    resultsList.appendChild(resultItem);
                } else if (item.skipped) {
                    const resultItem = document.createElement('div');
                    resultItem.className = 'result-item';
                    resultItem.style.borderLeft = '4px solid #ff9800';
                    const text = item.itemType === 'challenge' ? item.challenge : item.question;
                    resultItem.innerHTML = `
                        <div class="result-question">${index + 1}. ${text}</div>
                        <div class="result-answer" style="color: #ff9800;">
                            ‚è≠Ô∏è –ü—Ä–æ–ø—É—â–µ–Ω–æ
                        </div>
                    `;
                    resultsList.appendChild(resultItem);
                }
            });

            showScreen('results-screen');
        }

        // Reset game
        function resetGame() {
            stopLocationTracking();
            stopCompassTracking();
            stopTimer();
            questions = [];
            questionMarkers = [];
            score = 0;
            starsCollected = 0;
            totalStars = 0;
            currentHeading = 0;
            selectedCenter = null;
            timerEnabled = false;
            timerMinutes = 30;
            timeLeft = 0;
            if (map) {
                map.remove();
                map = null;
            }
            if (selectorMap) {
                selectorMap.remove();
                selectorMap = null;
            }
            document.getElementById('timerDisplay').style.display = 'none';
            showScreen('setup-screen');
            getUserLocation();
        }

        // Show specific screen
        function showScreen(screenClass) {
            document.querySelectorAll('.setup-screen, .map-selector-screen, .map-screen, .question-screen, .results-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.querySelector(`.${screenClass}`).classList.add('active');
        }
    </script>
</body>
</html>
